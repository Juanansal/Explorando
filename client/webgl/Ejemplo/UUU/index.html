<!DOCTYPE html>
<!--[if IE 6]> <html id="ie6" lang="en-US" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec" > <![endif]-->
<!--[if IE 7]> <html id="ie7" lang="en-US" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec" > <![endif]-->
<!--[if IE 8]> <html id="ie8" lang="en-US" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec" > <![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)]><!--> <html lang="en-US" xmlns:fb="http://ogp.me/ns/fb#" xmlns:addthis="http://www.addthis.com/help/api-spec" > <!--<![endif]-->

<head>
	<meta charset="UTF-8" />
	<link rel="pingback" href="http://www.lighthouse3d.com/xmlrpc.php" />

	<title>  WebGL &#8211; Importing a JSON formatted 3D Model » Lighthouse3d.com</title>
	<meta name="description" content="Loading JSON formatted 3D Model with WebGL" />
	<meta name="keywords" content="WebGL,JSON,Shaders" />
<link rel='shortcut icon' href='http://www.lighthouse3d.com/favicon.ico' />
	<!--[if lt IE 9]>
	<script src="http://www.lighthouse3d.com/wp-content/themes/suffusion/scripts/html5.js" type="text/javascript"></script>
	<![endif]-->
<link rel="alternate" type="application/rss+xml" title="Lighthouse3d.com &raquo; Feed" href="http://www.lighthouse3d.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Lighthouse3d.com &raquo; Comments Feed" href="http://www.lighthouse3d.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Lighthouse3d.com &raquo; WebGL &#8211; Importing a JSON formatted 3D Model Comments Feed" href="http://www.lighthouse3d.com/2013/07/webgl-importing-a-json-formatted-3d-model/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.lighthouse3d.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4.2"}};
			!function(a,b,c){function d(a){var c,d=b.createElement("canvas"),e=d.getContext&&d.getContext("2d"),f=String.fromCharCode;return e&&e.fillText?(e.textBaseline="top",e.font="600 32px Arial","flag"===a?(e.fillText(f(55356,56806,55356,56826),0,0),d.toDataURL().length>3e3):"diversity"===a?(e.fillText(f(55356,57221),0,0),c=e.getImageData(16,16,1,1).data.toString(),e.fillText(f(55356,57221,55356,57343),0,0),c!==e.getImageData(16,16,1,1).data.toString()):("simple"===a?e.fillText(f(55357,56835),0,0):e.fillText(f(55356,57135),0,0),0!==e.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8"),diversity:d("diversity")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8&&c.supports.diversity||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='myBeautyStyleSheet-css'  href='http://www.lighthouse3d.com/wp-content/plugins/my-beautiful-tubes/my-beautiful-tubes-style.css?ver=36' type='text/css' media='all' />
<link rel='stylesheet' id='cookielawinfo-style-css'  href='http://www.lighthouse3d.com/wp-content/plugins/cookie-law-info/css/cli-style.css?ver=1.5.3' type='text/css' media='all' />
<link rel='stylesheet' id='mt-shcore-style-css'  href='http://www.lighthouse3d.com/wp-content/plugins/syntax-highlighter-mt/styles/shCore.css?ver=2.2.5' type='text/css' media='all' />
<link rel='stylesheet' id='mt-theme-style-css'  href='http://www.lighthouse3d.com/wp-content/plugins/syntax-highlighter-mt/styles/shThemeRDark.css?ver=2.2.5' type='text/css' media='all' />
<link rel='stylesheet' id='vye_dynamic-css'  href='http://www.lighthouse3d.com/wp-content/plugins/youtube-embed/css/main.min.css?ver=4.4.2' type='text/css' media='all' />
<link rel='stylesheet' id='suffusion-theme-css'  href='http://www.lighthouse3d.com/wp-content/themes/suffusion/style.css?ver=4.4.7' type='text/css' media='all' />
<link rel='stylesheet' id='suffusion-theme-skin-1-css'  href='http://www.lighthouse3d.com/wp-content/themes/suffusion/skins/light-theme-gray-2/skin.css?ver=4.4.7' type='text/css' media='all' />
<!--[if !IE]>--><link rel='stylesheet' id='suffusion-rounded-css'  href='http://www.lighthouse3d.com/wp-content/themes/suffusion/rounded-corners.css?ver=4.4.7' type='text/css' media='all' />
<!--<![endif]-->
<!--[if gt IE 8]><link rel='stylesheet' id='suffusion-rounded-css'  href='http://www.lighthouse3d.com/wp-content/themes/suffusion/rounded-corners.css?ver=4.4.7' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]><link rel='stylesheet' id='suffusion-ie-css'  href='http://www.lighthouse3d.com/wp-content/themes/suffusion/ie-fix.css?ver=4.4.7' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='suffusion-generated-css'  href='http://www.lighthouse3d.com/wp-content/uploads/suffusion/custom-styles.css?ver=4.4.7' type='text/css' media='all' />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://www.lighthouse3d.com/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.3.1' type='text/css' media='all' />
<link rel='stylesheet' id='stbCoreCSS-css'  href='http://www.lighthouse3d.com/wp-content/plugins/wp-special-textboxes/css/stb-core.css?ver=5.4.98' type='text/css' media='all' />
<link rel='stylesheet' id='stbCSS-css'  href='http://www.lighthouse3d.com/wp-content/plugins/wp-special-textboxes/css/wp-special-textboxes.css.php?ver=5.4.98' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='http://www.lighthouse3d.com/wp-content/plugins/jetpack/css/jetpack.css?ver=3.7' type='text/css' media='all' />
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/cookie-law-info/js/cookielawinfo.js?ver=1.5.3'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/syntax-highlighter-mt/scripts/shCore.js?ver=2.2.5'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/syntax-highlighter-mt/scripts/shAutoloader.js?ver=2.2.5'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Suffusion_JS = {"wrapper_width_type_page_template_1l_sidebar_php":"fixed","wrapper_max_width_page_template_1l_sidebar_php":"1200","wrapper_min_width_page_template_1l_sidebar_php":"600","wrapper_orig_width_page_template_1l_sidebar_php":"75","wrapper_width_type_page_template_1r_sidebar_php":"fixed","wrapper_max_width_page_template_1r_sidebar_php":"1200","wrapper_min_width_page_template_1r_sidebar_php":"600","wrapper_orig_width_page_template_1r_sidebar_php":"75","wrapper_width_type_page_template_1l1r_sidebar_php":"fixed","wrapper_max_width_page_template_1l1r_sidebar_php":"1200","wrapper_min_width_page_template_1l1r_sidebar_php":"600","wrapper_orig_width_page_template_1l1r_sidebar_php":"75","wrapper_width_type_page_template_2l_sidebars_php":"fixed","wrapper_max_width_page_template_2l_sidebars_php":"1200","wrapper_min_width_page_template_2l_sidebars_php":"600","wrapper_orig_width_page_template_2l_sidebars_php":"75","wrapper_width_type_page_template_2r_sidebars_php":"fixed","wrapper_max_width_page_template_2r_sidebars_php":"1200","wrapper_min_width_page_template_2r_sidebars_php":"600","wrapper_orig_width_page_template_2r_sidebars_php":"75","wrapper_width_type":"fixed","wrapper_max_width":"1200","wrapper_min_width":"600","wrapper_orig_width":"75","wrapper_width_type_page_template_no_sidebars_php":"fixed","wrapper_max_width_page_template_no_sidebars_php":"1200","wrapper_min_width_page_template_no_sidebars_php":"600","wrapper_orig_width_page_template_no_sidebars_php":"75","suf_featured_interval":"4000","suf_featured_transition_speed":"1000","suf_featured_fx":"fade","suf_featured_pause":"Pause","suf_featured_resume":"Resume","suf_featured_sync":"0","suf_featured_pager_style":"numbers","suf_nav_delay":"500","suf_nav_effect":"fade","suf_navt_delay":"500","suf_navt_effect":"none","suf_jq_masonry_enabled":"disabled","suf_fix_aspect_ratio":"preserve","suf_show_drop_caps":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/themes/suffusion/scripts/suffusion.js?ver=4.4.7'></script>
<link rel='https://api.w.org/' href='http://www.lighthouse3d.com/wp-json/' />
<link rel="canonical" href="http://www.lighthouse3d.com/2013/07/webgl-importing-a-json-formatted-3d-model/" />
<link rel='shortlink' href='http://wp.me/p1saan-1i4' />
<link rel="alternate" type="application/json+oembed" href="http://www.lighthouse3d.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.lighthouse3d.com%2F2013%2F07%2Fwebgl-importing-a-json-formatted-3d-model%2F" />
<link rel="alternate" type="text/xml+oembed" href="http://www.lighthouse3d.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.lighthouse3d.com%2F2013%2F07%2Fwebgl-importing-a-json-formatted-3d-model%2F&#038;format=xml" />
    <script>
        (function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

    <script type="text/javascript">
        (function() {
             var li = document.createElement('script'); li.type = 'text/javascript'; li.async = true;
             li.src = ('https:' == document.location.protocol ? 'https:' : 'http:') + '//platform.stumbleupon.com/1/widgets.js';
             var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(li, s);
        })();
    </script>

    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>

<link rel='dns-prefetch' href='//jetpack.wordpress.com'>
<link rel='dns-prefetch' href='//s0.wp.com'>
<link rel='dns-prefetch' href='//s1.wp.com'>
<link rel='dns-prefetch' href='//s2.wp.com'>
<link rel='dns-prefetch' href='//public-api.wordpress.com'>
<link rel='dns-prefetch' href='//0.gravatar.com'>
<link rel='dns-prefetch' href='//1.gravatar.com'>
<link rel='dns-prefetch' href='//2.gravatar.com'>
<!-- Start Additional Feeds -->
<!-- End Additional Feeds -->
				<!-- WordPress Popular Posts v3.3.1 -->
				<script type="text/javascript">//<![CDATA[

					var sampling_active = 0;
					var sampling_rate   = 100;
					var do_request = false;

					if ( !sampling_active ) {
						do_request = true;
					} else {
						var num = Math.floor(Math.random() * sampling_rate) + 1;
						do_request = ( 1 === num );
					}

					if ( do_request ) {

						// Create XMLHttpRequest object and set variables
						var xhr = ( window.XMLHttpRequest )
						  ? new XMLHttpRequest()
						  : new ActiveXObject( "Microsoft.XMLHTTP" ),
						url = 'http://www.lighthouse3d.com/wp-admin/admin-ajax.php',
						params = 'action=update_views_ajax&token=e1ba10608d&wpp_id=4964';
						// Set request method and target URL
						xhr.open( "POST", url, true );
						// Set request header
						xhr.setRequestHeader( "Content-type", "application/x-www-form-urlencoded" );
						// Hook into onreadystatechange
						xhr.onreadystatechange = function() {
							if ( 4 === xhr.readyState && 200 === xhr.status ) {
								if ( window.console && window.console.log ) {
									window.console.log( xhr.responseText );
								}
							}
						};
						// Send request
						xhr.send( params );

					}

				//]]></script>
				<!-- End WordPress Popular Posts v3.3.1 -->
				<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style>
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article" />
<meta property="og:title" content="WebGL &#8211; Importing a JSON formatted 3D Model" />
<meta property="og:url" content="http://www.lighthouse3d.com/2013/07/webgl-importing-a-json-formatted-3d-model/" />
<meta property="og:description" content="The Demo This demo uses multiple shaders, loaded models in JSON format and creates its own models (the grid and axis)." />
<meta property="article:published_time" content="2013-07-20T01:29:23+00:00" />
<meta property="article:modified_time" content="2014-01-24T18:15:27+00:00" />
<meta property="og:site_name" content="Lighthouse3d.com" />
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg" />
<meta property="og:locale" content="en_US" />
<meta name="twitter:card" content="summary" />
<!-- location header -->
</head>

<body class="single single-post postid-4964 single-format-standard light-theme-gray-2 suffusion-custom preset-custom-componentspx device-desktop">
    			<!-- #widgets-above-header -->
	<div id="widgets-above-header" class='warea fix'>
		<div class='col-control'>
<!-- widget start --><div id="text-10" class="widget_text suf-widget suf-widget-1c">			<div class="textwidget"><center><a title="Help end child hunger" href="https://www.wfp.org/donate/fillthecup?icn=banner&ici=bb-fillthecup728x90" ><img width="728" height="90" alt="Help end child hunger" src="http://cdn.wfp.org/banners/cup/728x90.jpg" /></a></center></div>
		</div><!-- widget end -->		</div>
	</div>
	<!-- /#widgets-above-header -->
		<div id="wrapper" class="fix">
					<div id="header-container" class="custom-header fix">
					<header id="header" class="fix">
			<h2 class="blogtitle left"><a href="http://www.lighthouse3d.com">Lighthouse3d.com</a></h2>
		<div class="description right">Mostly about 3D graphics</div>
    </header><!-- /header -->
 	<nav id="nav" class="tab fix">
		<div class='col-control left'>
	<!-- left-header-widgets -->
	<div id="left-header-widgets" class='warea fix'>
	<!-- widget start --><div id="text-9" class="widget_text">			<div class="textwidget"><!-- Place this tag in your head or just before your close body tag -->
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

<!-- Place this tag where you want the +1 button to render -->
<g:plusone></g:plusone></div>
		</div><!-- widget end -->	</div>
	<!-- /left-header-widgets -->
	<!-- right-header-widgets -->
	<div id="right-header-widgets" class="warea">
	<!-- widget start --><div id="addthis-widget-3" class="atwidget">
                <div class="addthis_toolbox addthis_default_style addthis_32x32_style"  >
                    <a class="addthis_button_preferred_1"></a>
                    <a class="addthis_button_preferred_2"></a>
                    <a class="addthis_button_preferred_3"></a>
                    <a class="addthis_button_preferred_4"></a>
                    <a class="addthis_button_compact"></a>
                    <a class="addthis_counter addthis_bubble_style"></a>
                </div></div><!-- widget end -->	</div>
	<!-- /right-header-widgets -->
<ul class='sf-menu'>
<li class="page_item page-item-2"><a href="http://www.lighthouse3d.com/about/">About</a></li>
<li class="page_item page-item-14"><a href="http://www.lighthouse3d.com/tutorials/">Tutorials</a></li>
<li class="page_item page-item-2041"><a href="http://www.lighthouse3d.com/very-simple-libs/">Very Simple * Libs</a></li>
<li class="page_item page-item-950"><a href="http://www.lighthouse3d.com/cg-topics/">CG Stuff</a></li>
	<li class="cat-item cat-item-5"><a href="http://www.lighthouse3d.com/category/books/" >Books</a>
</li>

</ul>
		</div><!-- /col-control -->
	</nav><!-- /nav -->
			</div><!-- //#header-container -->
			<div id="container" class="fix">
				    <div id="main-col">
		  	<div id="content">
	<article class="post-4964 post type-post status-publish format-standard hentry category-programming tag-json tag-webgl category-28-id full-content meta-position-corners fix" id="post-4964">
<header class='post-header title-container fix'>
	<div class="title">
		<h1 class="posttitle"><a href='http://www.lighthouse3d.com/2013/07/webgl-importing-a-json-formatted-3d-model/' class='entry-title' rel='bookmark' title='WebGL &#8211; Importing a JSON formatted 3D Model' >WebGL &#8211; Importing a JSON formatted 3D Model</a></h1>
		<div class="postdata fix">
					<span class="category"><span class="icon">&nbsp;</span><a href="http://www.lighthouse3d.com/category/programming/" rel="category tag">Programming</a></span>
							<span class="comments"><span class="icon">&nbsp;</span><a href="#respond">Add comments</a></span>
					</div><!-- /.postdata -->
		</div><!-- /.title -->
		<div class="date"><span class="month">Jul</span> <span
			class="day">20</span><span class="year">2013</span></div>
	</header><!-- /.title-container -->
	<span class='post-format-icon'>&nbsp;</span><span class='updated' title='2013-07-20T01:29:23+00:00'></span>		<div class="entry-container fix">
			<div class="entry fix">
<p><b>The Demo</b></p>
<p>This demo uses multiple shaders, loaded models in JSON format and creates its own models (the grid and axis).<br />
<span id="more-4964"></span><br />
Use the left mouse button to rotate the camera around the object.<br />
The middle mouse button allows for zooming in and out.<br />
The following keys serve the same purpose:</p>
<ul>
<li>A,D &#8211; move camera to the left/right</li>
<li>W,S &#8211; move the camera up and down</li>
<li>R,F &#8211; move the camera backward/forward.</li>
</ul>
<p><b>Live WebGL</b><br />
<canvas id="canvas" width="600" height="400">Your browser does not support the canvas tag.</canvas></p>
<pre hidden>´
<!-- third party libs -->
<script type="text/javascript" src="http://lighthouse3d.com/webgl/webgl-utils.js"></script>
<script type="text/javascript" src="http://lighthouse3d.com/webgl/glMatrix.js">
</script>
<!-- lib to ease model and material managment --><script type="text/javascript" src="http://www.lighthouse3d.com/webgl/l3dmodels.js"></script><!-- 

Shader programs 

 simple shader displaying a constant color 
--><script id="color_vs" type="x-shader/x-vertex">// <![CDATA[
uniform mat4 uMat4PVM;  

attribute vec4 aVec4Position;  

void main()                 
{
	gl_Position = uMat4PVM * aVec4Position;
}
// ]]&gt;</script><script id="color_fs" type="x-shader/x-fragment">// <![CDATA[
precision mediump float;      

uniform vec4 uVec4Diffuse;         

void main()                   
{
    gl_FragColor = uVec4Diffuse;
}
// ]]&gt;</script><!--  

Phong shader 

--><script id="phong_vs" type="x-shader/x-vertex">// <![CDATA[
uniform mat4 uMat4PVM;   
uniform mat3 uMat3Normal;
uniform mat4 uMat4ViewModel;

attribute vec4 aVec4Position;  
attribute vec3 aVec3Normal;

varying vec3 normal;
varying vec3 eyeCoord;

void main()                 
{

    normal = normalize(uMat3Normal * aVec3Normal);
    eyeCoord = -vec3(uMat4ViewModel * aVec4Position);

	gl_Position = uMat4PVM * aVec4Position;
}
// ]]&gt;</script><script id="phong_fs" type="x-shader/x-fragment">// <![CDATA[
precision mediump float;      

uniform vec3 uVec3LightDir; 
uniform vec4 uVec4Diffuse;         
uniform vec4 uVec4Specular;
uniform float uFloatShininess;
uniform float uFloatAmbient;

varying vec3 normal;
varying vec3 eyeCoord;

void main()                   
{
    vec4 spec = vec4(0.0);

    vec3 n = normalize(normal);
    vec3 e = normalize(eyeCoord);

    float intensity = max(dot(n,uVec3LightDir), 0.0);

    if (intensity > 0.0) {

        vec3 h = normalize(uVec3LightDir + e);
        float intSpec = max(dot(h,n), 0.0);
        spec = uVec4Specular * pow(intSpec, uFloatShininess);
    }
 // gl_FragColor = vec4(1.0,1.0,0.0,1.0);
//  gl_FragColor = vec4(uVec3LightDir,1.0);
    gl_FragColor = max(vec4(intensity, intensity, intensity, 1.0) * uVec4Diffuse + spec , uVec4Diffuse * vec4(uFloatAmbient, uFloatAmbient, uFloatAmbient, 1.0));  
}
// ]]&gt;</script><!-- 

Phong shader with texturing 

--><script id="phong_texture_vs" type="x-shader/x-vertex">// <![CDATA[
uniform mat4 uMat4PVM;   
uniform mat3 uMat3Normal;
uniform mat4 uMat4ViewModel;

attribute vec4 aVec4Position;  
attribute vec3 aVec3Normal;
attribute vec2 aVec2TexCoord;

varying vec3 normal;
varying vec3 eyeCoord;
varying vec2 tc;

void main()                 
{
    tc = aVec2TexCoord;
    normal = normalize(uMat3Normal * aVec3Normal);
    eyeCoord = -vec3(uMat4ViewModel * aVec4Position);

	gl_Position = uMat4PVM * aVec4Position;
}
// ]]&gt;</script><script id="phong_texture_fs" type="x-shader/x-fragment">// <![CDATA[
precision mediump float;      

uniform vec3 uVec3LightDir; 
uniform vec4 uVec4Diffuse;         
uniform vec4 uVec4Specular;
uniform float uFloatShininess;
uniform float uFloatAmbient;

uniform sampler2D uSamp2DTexID;

varying vec3 normal;
varying vec3 eyeCoord;
varying vec2 tc;

void main()                   
{
    vec4 spec = vec4(0.0);

    vec3 n = normalize(normal);
    vec3 e = normalize(eyeCoord);

    float intensity = max(dot(n,uVec3LightDir), 0.0);

    if (intensity > 0.0) {

        vec3 h = normalize(uVec3LightDir + e);
        float intSpec = max(dot(h,n), 0.0);
        spec = uVec4Specular * pow(intSpec, uFloatShininess);
    }
    vec4 dif = uVec4Diffuse * texture2D(uSamp2DTexID, tc);
    gl_FragColor = max(vec4(intensity, intensity, intensity, 1.0) * dif + spec , uVec4Diffuse * vec4(uFloatAmbient, uFloatAmbient, uFloatAmbient, 1.0));  
}
// ]]&gt;</script><script type="text/javascript">// <![CDATA[
/* Reference to the WebGLContext */
var gl = null;		   

/* Reference to the canvas DOM object. */
var canvas = null;	 

/* References to the shader programs */
var phongProgram, colorProgram, phongTexProgram;

// --------------------------------------------------------------------------
//  Camera variables and helper function
// --------------------------------------------------------------------------
var deltaAlpha = 0;
var deltaBeta = 0;
var alpha = 0.44, prevAlpha;
var beta = 0.44, prevBeta;
var radius = 5, prevRadius;
var camX, camY, camZ;

function spherical2Cartesian() {

    camX = radius * Math.cos(beta) * Math.sin(alpha);
    camZ = radius * Math.cos(beta) * Math.cos(alpha);
    camY = radius * Math.sin(beta)
}

// --------------------------------------------------------------------------
//  Storage for the loaded model
// Models is defined in l3dmodels.js
// --------------------------------------------------------------------------

var myModel = new Models(), myGrid = new Model(), myAxis = new Models();

// --------------------------------------------------------------------------
//  Shader stuff
// --------------------------------------------------------------------------

function createProgram(docVS, docFS, attributes, uniforms) {

    // create the shader handles
    var vs = gl.createShader(gl.VERTEX_SHADER);
    var fs = gl.createShader(gl.FRAGMENT_SHADER);

    // get the source code
    vsSource = document.getElementById(docVS);
    fsSource = document.getElementById(docFS);

    // set the source
    gl.shaderSource(vs, vsSource.text);
    gl.shaderSource(fs, fsSource.text);

    // compile shaders
    gl.compileShader(vs);
    gl.compileShader(fs);

    if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS)) 
        throw ("Shader Error: " + docVS + ": " + gl.getShaderInfoLog(vs));
    if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS))
        throw ("Shader Error: " + docFS + ": " + gl.getShaderInfoLog(fs));

    var program = gl.createProgram();
    gl.attachShader(program, vs);
    gl.attachShader(program, fs);

    for (var i = 0; i < attributes.length; ++i) {
        gl.bindAttribLocation(program, i, attributes[i]);
    }

    gl.linkProgram(program);
    if (!gl.getProgramParameter(program, gl.LINK_STATUS))
        throw ("Program Error: " + gl.getProgramInfoLog(program));

    program.uniforms = {};
    for (var i = 0; i < uniforms.length; ++i) {
        program.uniforms[uniforms[i]] = gl.getUniformLocation(program, uniforms[i]);
    }

    return(program);
}

// Callback called each time the browser wants us to draw another frame
function render(time)
{           	
    // Clear color and depth buffers
    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

    // Place Camera
    mat4.identity(Matrices.view);
    mat4.lookAt(vec3.create([camX, camY, camZ]), vec3.create([0, 0, 0]), vec3.create([0, 1, 0]), Matrices.view);

    // Clear model matrix 
    mat4.identity(Matrices.model);

    // set phong to be the active program
    gl.useProgram(phongProgram);

    // compute all derived matrices (normal, viewModel, PVM)
    Matrices.compDerived();

    // set matrices
    gl.uniformMatrix4fv(phongProgram.uniforms["uMat4ViewModel"], false, Matrices.getVM());
    gl.uniformMatrix3fv(phongProgram.uniforms["uMat3Normal"], false, Matrices.getN());
    gl.uniformMatrix4fv(phongProgram.uniforms["uMat4PVM"], false, Matrices.getPVM());

    // set the light direction uniform
    var uVec3LightDir = [1.0, 0.5, 1.0,0.0];
    var res2 = vec3.create();
    mat4.multiplyVec4(Matrices.getVM(), uVec3LightDir, res2);
    vec3.normalize(res2);
    gl.uniform3fv(phongProgram.uniforms["uVec3LightDir"], res2);

    myAxis.render();

    // set the textured phong program as active
    gl.useProgram(phongTexProgram);

    // set the matrices
    gl.uniformMatrix4fv(phongTexProgram.uniforms["uMat4PVM"], false, Matrices.getPVM());
    gl.uniformMatrix4fv(phongTexProgram.uniforms["uMat4ViewModel"], false, Matrices.getVM());
    gl.uniformMatrix3fv(phongTexProgram.uniforms["uMat3Normal"], false, Matrices.getN());
    // set the light dir
    gl.uniform3fv(phongTexProgram.uniforms["uVec3LightDir"], res2);

    // render the loaded model
    // note: if the model has no texture use phongProgram instead
    myModel.render();

    // set the color program as active
    gl.useProgram(colorProgram);

    // set the matrix
    gl.uniformMatrix4fv(colorProgram.uniforms["uMat4PVM"], false, Matrices.getPVM());

    // render the grid
    myGrid.render();

    // just checking
    checkError();

    // Send the commands to WebGL
    gl.flush();

    // Request another frame
    window.requestAnimFrame(render, canvas);
}

function checkError()
{
    var error = gl.getError();

    if (error) 
        console.log("error: " + error);
}

// --------------------------------------------------------------------------
//  Mouse and Keyboard handlers
// --------------------------------------------------------------------------

var mouseTracking = -1, startX, startY;

//function handleKeyDown(event) {

//    if (String.fromCharCode(event.keyCode) == "A") {
//        alpha -= 0.05;
//    }
//    else if (String.fromCharCode(event.keyCode) == "D") {
//        alpha += 0.05;
//    }
//    else if (String.fromCharCode(event.keyCode) == "W") {
//        beta += 0.05;
//        if (beta > 1.5)
//            beta = 1.5;
//    }
//    else if (String.fromCharCode(event.keyCode) == "S") {
//        beta -= 0.05;
//        if (beta < -1.5)
//            beta = -1.5;
//    }
//    else if (String.fromCharCode(event.keyCode) == "R") {
//        radius += 0.05;
//    }
//    else if (String.fromCharCode(event.keyCode) == "F") {
//        radius -= 0.05;
//    }
//    spherical2Cartesian();
//}

function handleKeyDown(event) {

    switch (String.fromCharCode(event.keyCode)) {
        case "A": alpha -= 0.05; break;
        case "D": alpha += 0.05; break;
        case "W": beta += 0.05; if (beta > 1.5) beta = 1.5; break;
        case "S": beta -= 0.05; if (beta < -1.5) beta = -1.5; break;
        case "R": radius += 0.05; break;
        case "F": radius -= 0.05; if (radius < 0.5) radius = 0.5; break;
    }
    spherical2Cartesian();
}

function handleMouseDown(event) {
    if (event.button == 0) // left button
        mouseTracking = 0;
    else if (event.button == 1)
        mouseTracking = 1;
    startX = event.clientX;
    startY = event.clientY;
    prevAlpha = alpha;
    prevBeta = beta;
    prevRadius = radius;
}

function handleMouseUp(event) {
    mouseTracking = -1;
}

function handleMouseMove(event) {

    if (mouseTracking == -1) {
        return;
    }
    var xx = event.clientX;
    var yy = event.clientY;
    var deltaX = -xx + startX;
    var deltaY = yy - startY;
    if (mouseTracking == 0) {
        alpha = prevAlpha + deltaX * 0.01;
        beta = prevBeta + deltaY * 0.01;
        if (beta > 1.5)
            beta = 1.5;
        if (beta < -1.5)
            beta = -1.5;
    }
    else if (mouseTracking == 1) {
        radius = prevRadius - deltaY*0.01;
    }
    spherical2Cartesian();

}

// --------------------------------------------------------------------------
//  Init GL settings, programs and models
// --------------------------------------------------------------------------

//Called when we have the context
function init() {

    // init cam variables;
    spherical2Cartesian();

    // set the viewport to be the whole canvas
    gl.viewport(0, 0, canvas.clientWidth, canvas.clientHeight);

    // projection matrix. 
    var ratio = canvas.clientWidth / canvas.clientHeight;
    mat4.perspective(60, ratio, 0.1, 50, Matrices.proj);

    // Set the background clear color to gray.
    gl.clearColor(0.8, 0.8, 0.8, 1.0);
    // general gl settings
    gl.enable(gl.CULL_FACE);
    gl.enable(gl.DEPTH_TEST);

    // create the shader programs
    phongProgram = createProgram("phong_vs", "phong_fs",
        ["aVec4Position", "aVec3Normal"],
        ["uMat4PVM", "uMat3Normal", "uMat4ViewModel", "uVec3LightDir", "uVec4Diffuse", "uVec4Specular", "uFloatShininess"]);

    colorProgram = createProgram("color_vs", "color_fs",
        ["aVec4Position"],
        ["uMat4PVM", "uVec4Diffuse"]);

    phongTexProgram = createProgram("phong_texture_vs", "phong_texture_fs",
         ["aVec4Position", "aVec3Normal", "aVec2TexCoord"],
        ["uMat4PVM", "uMat3Normal", "uMat4ViewModel", "uSamp2DTexID", "uVec3LightDir", "uVec4Diffuse", "uVec4Specular", "uFloatShininess"]);

    // init the matrices
    Matrices.init();

    // init the models for rendering
    var myGridMat = new Material();
    myGridMat.diffuse = new Float32Array([1.0, 1.0, 1.0, 1.0]);
    myGrid = createGrid(1, 3, 12);
    myGrid.setMaterial(myGridMat);
    myAxis = createAxis(3);
    myModel = Models.loadModel("http://www.lighthouse3d.com/webgl/cube2.json");
    // just in case
    checkError();
}

// --------------------------------------------------------------------------
//  Main function
// --------------------------------------------------------------------------

function main()
{		
    // Try to get a WebGL context    
    canvas = document.getElementById("canvas");    

    gl = WebGLUtils.setupWebGL(canvas, { depth: true });

    if (gl != null)
    {
        // init gl stuff
        init();

        // handlers for keyboard and mouse
        document.onkeydown = handleKeyDown;
        canvas.onmousedown = handleMouseDown;
        document.onmouseup = handleMouseUp;
        document.onmousemove = handleMouseMove;

        // rendering callback
        window.requestAnimFrame(render, canvas);
    }
}

// call the main entry point
main();
// ]]&gt;</script></pre>
<p><b>WebGL &#8211; Importing a JSON model</b></p>
<p><a href="http://www.json.org/">JSON</a> is a data exchange format, making it a simple solution to import 3D models in WebGL. It allows us to define JavaScript objects in textual format, which are then parsed and an object is returned. Once the parsing is concluded we can access the object properties in the same way as we do with regular JavaScript objects.</p>
<p>Consider for instance the following text in JSON format that defines a single triangle with normals and texture coordinates:</p>
<pre class="brush:javascript">{
    "positions" : [0,0,1, 1,0,0, 0,0,0],
    "normals": [0,1,0,  0,1,0,  0,1,0],
    "texCoords": [0,1, 1,0, 0,0]
}</pre>
<p>To load this text we can write a small function such as:</p>
<pre class="brush:javascript">    var request = new XMLHttpRequest();
    request.open("GET",http://mySite.com/myModel.json");
    request.onreadystatechange = function () {
        if (request.readyState == 4) {
            handleLoadedModel(JSON.parse(request.responseText));
        }
    }
    request.send();</pre>
<p>The request has several states (see <a href="http://www.w3.org/TR/XMLHttpRequest/#states">here</a>), and state 4 indicates that the request is completed. This is when we call the function to convert the received object into something meaningful to the application. Let&#8217;s assume the following JavaScript definitions:</p>
<pre class="brush:javascript">function Model() {

    this.vbo = [-1,-1,-1]; // init an array with -1 
    this.vertexCount = 0; // this will be usefull for glDrawArrays
}

var m = new Model(); // a global var to hold our model data</pre>
<p>Once the text gets imported, and parsed we would get an object, with three properties: positions, normals and texCoords. Considering the above JSON text we could have a simple handler such as:</p>
<pre class="brush:javascript">handleLoadedModel(object) {
    var positionArray = new FLoat32Array(object.positions);
    m.vbo[0] = gl.createBuffer();
    gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo[i]);
    gl.bufferData(gl.ARRAY_BUFFER, positionArray , gl.STATIC_DRAW);

    // do the same thing for "normals" and "texCoords" with vbo[1] and vbo[2]
    ...
    // finally let's keep track of the number of vertices
    m.vertexCount = object.normals.length / 3; // Normals have always 3 components
}</pre>
<p>And that&#8217;s it. We&#8217;ve loaded a text file describing our model, and turned it into three VBOs. And we also kept track of the number of vertices.</p>
<p>The beauty of JSON is in its simplicity, and at the same time its potential. We can use JSON to describe 3D models with multiple meshes, specify a material per mesh, including a texture path, and why not, bounding boxes for the model and each mesh. The demo uses such a model definition, although it only contains a single mesh to keep things lite. Check out the model file <a href="http://www.lighthouse3d.com/webgl/cube2.json">here</a>.</p>
<p>In order to keep the code simpler I wrote a small lib to deal with materials and models (<a href="http://www.lighthouse3d.com/webgl/l3dmodels.js">l3dmodels.js</a>). The source code for the javascript bit can be found in <a href="http://www.lighthouse3d.com/webgl/demo.js">here</a>. It assumes a canvas named &#8220;canvas&#8221; has been declared in HTML.</p>
<p>The demo also uses two third party libs:</p>
<ul>
<li><a href="https://code.google.com/p/webglsamples/source/browse/book/webgl-utils.js?r=41401f8a69b1f8d32c6863ac8c1953c8e1e8eba0">webgl-utils.js</a></li>
<li><a href="https://code.google.com/p/glmatrix/source/browse/glMatrix.js">jsMatrix.js</a></li>
</ul>
<p>The first library contains two functions which are really useful: WebGLUtils.setupWebGL and window.requestAnimFrame. jsMatrix is a great lib that supports the most common matrix and vector operations, namely in the context of GL, such as setting the projection matrix, placing the camera, and performing geometric transformations.</p>

                <div class="addthis_toolbox addthis_default_style addthis_" addthis:url='http://www.lighthouse3d.com/2013/07/webgl-importing-a-json-formatted-3d-model/' addthis:title='WebGL &#8211; Importing a JSON formatted 3D Model' >
                    <a class="addthis_button_preferred_1"></a>
                    <a class="addthis_button_preferred_2"></a>
                    <a class="addthis_button_preferred_3"></a>
                    <a class="addthis_button_preferred_4"></a>
                    <a class="addthis_button_compact"></a>
                    <a class="addthis_counter addthis_bubble_style"></a>
                </div>			</div><!--/entry -->
		</div><!-- .entry-container -->
<footer class="post-footer postdata fix">
		<span class="tags tax"><span class="icon">&nbsp;</span>Tagged with: <a href="http://www.lighthouse3d.com/tag/json/" rel="tag">JSON</a>, <a href="http://www.lighthouse3d.com/tag/webgl/" rel="tag">WebGL</a></span>
	</footer><!-- .post-footer -->
<section id="comments">
		
		<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2013/07/webgl-importing-a-json-formatted-3d-model/#respond" style="display:none;">Cancel reply</a></small></h3>
			<div id="commentform" class="comment-form">
				<iframe src="http://jetpack.wordpress.com/jetpack-comment/?blogid=21488603&#038;postid=4964&#038;comment_registration=0&#038;require_name_email=1&#038;stc_enabled=1&#038;stb_enabled=1&#038;show_avatars=1&#038;avatar_default=mystery&#038;greeting=Leave+a+Reply&#038;greeting_reply=Leave+a+Reply+to+%25s&#038;color_scheme=light&#038;lang=en-US&#038;jetpack_version=3.7&#038;sig=e25a88eba2a308dda479de37103af4a716c709c9#parent=http%3A%2F%2Fwww.lighthouse3d.com%2F2013%2F07%2Fwebgl-importing-a-json-formatted-3d-model%2F" allowtransparency="false" style="width:100%; height: 430px;border:0px;" frameBorder="0" scrolling="no" name="jetpack_remote_comment" id="jetpack_remote_comment"></iframe>
			</div>
		</div>

		
		<input type="hidden" name="comment_parent" id="comment_parent" value="" />

		</section>   <!-- #comments -->	</article><!--/post -->
<nav class='post-nav fix'>
<table>
<tr>
	<td class='previous'><a href="http://www.lighthouse3d.com/2013/07/4958/" rel="prev"><span class="icon">&nbsp;</span> VSL Update: Assimp 3.0 + bug fixes</a></td>
	<td class='next'><a href="http://www.lighthouse3d.com/2014/01/webgl-converting-3d-models-to-json-formatted-files/" rel="next"><span class="icon">&nbsp;</span> WebGL &#8211; Converting 3D models to JSON formatted files</a></td>
</tr>
</table>
</nav>
      </div><!-- content -->
    </div><!-- main col -->
<div id='sidebar-wrap' class='sidebar-wrap sidebar-wrap-right fix'>		<!-- #wsidebar-top -->
		<div id="wsidebar-top" class="dbx-group right boxed warea">
<!--widget start --><aside id="aml-adsense-widget-5" class="dbx-box suf-widget widget_aml_adsense"><div class="dbx-content"><h3 class="dbx-handle plain">Google Ads</h3><!-- Google AdSense -->
<script type="text/javascript"><!--
google_ad_client = "ca-pub-9129408611271156";
google_ad_slot = "1539630855";
google_ad_width = "336";
google_ad_height = "280";

//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<!-- /Google AdSense --></div></aside><!--widget end -->		</div>
		<!-- /#wsidebar-top -->
<div id='sidebar-shell-1' class='sidebar-shell sidebar-shell-right'>
<div class="dbx-group right boxed warea" id="sidebar">
<!--widget start --><aside id="tag_cloud-3" class="dbx-box suf-widget widget_tag_cloud"><div class="dbx-content"><h3 class="dbx-handle plain">Tag Cloud</h3><div class="tagcloud"><a href='http://www.lighthouse3d.com/tag/anamorphosis/' class='tag-link-80' title='2 topics' style='font-size: 9.77464788732pt;'>anamorphosis</a>
<a href='http://www.lighthouse3d.com/tag/animation/' class='tag-link-20' title='18 topics' style='font-size: 17.661971831pt;'>animation</a>
<a href='http://www.lighthouse3d.com/tag/anti-aliasing/' class='tag-link-39' title='2 topics' style='font-size: 9.77464788732pt;'>anti-aliasing</a>
<a href='http://www.lighthouse3d.com/tag/assimp/' class='tag-link-70' title='5 topics' style='font-size: 12.7323943662pt;'>Assimp</a>
<a href='http://www.lighthouse3d.com/tag/blender/' class='tag-link-45' title='2 topics' style='font-size: 9.77464788732pt;'>Blender</a>
<a href='http://www.lighthouse3d.com/tag/c/' class='tag-link-8' title='5 topics' style='font-size: 12.7323943662pt;'>C</a>
<a href='http://www.lighthouse3d.com/tag/courses/' class='tag-link-121' title='3 topics' style='font-size: 10.9577464789pt;'>Courses</a>
<a href='http://www.lighthouse3d.com/tag/cpu/' class='tag-link-50' title='2 topics' style='font-size: 9.77464788732pt;'>cpu</a>
<a href='http://www.lighthouse3d.com/tag/debug/' class='tag-link-53' title='5 topics' style='font-size: 12.7323943662pt;'>debug</a>
<a href='http://www.lighthouse3d.com/tag/devil/' class='tag-link-71' title='3 topics' style='font-size: 10.9577464789pt;'>DevIL</a>
<a href='http://www.lighthouse3d.com/tag/drawings/' class='tag-link-36' title='3 topics' style='font-size: 10.9577464789pt;'>drawings</a>
<a href='http://www.lighthouse3d.com/tag/fractals/' class='tag-link-27' title='1 topic' style='font-size: 8pt;'>fractals</a>
<a href='http://www.lighthouse3d.com/tag/freeglut/' class='tag-link-69' title='3 topics' style='font-size: 10.9577464789pt;'>FreeGLUT</a>
<a href='http://www.lighthouse3d.com/tag/games-2/' class='tag-link-67' title='2 topics' style='font-size: 9.77464788732pt;'>games</a>
<a href='http://www.lighthouse3d.com/tag/glsl/' class='tag-link-26' title='26 topics' style='font-size: 19.1408450704pt;'>GLSL</a>
<a href='http://www.lighthouse3d.com/tag/glut/' class='tag-link-41' title='7 topics' style='font-size: 13.9154929577pt;'>GLUT</a>
<a href='http://www.lighthouse3d.com/tag/google/' class='tag-link-12' title='1 topic' style='font-size: 8pt;'>google</a>
<a href='http://www.lighthouse3d.com/tag/gpu/' class='tag-link-59' title='2 topics' style='font-size: 9.77464788732pt;'>GPU</a>
<a href='http://www.lighthouse3d.com/tag/json/' class='tag-link-122' title='2 topics' style='font-size: 9.77464788732pt;'>JSON</a>
<a href='http://www.lighthouse3d.com/tag/kinect/' class='tag-link-48' title='2 topics' style='font-size: 9.77464788732pt;'>Kinect</a>
<a href='http://www.lighthouse3d.com/tag/maths/' class='tag-link-55' title='4 topics' style='font-size: 11.9436619718pt;'>maths</a>
<a href='http://www.lighthouse3d.com/tag/maya/' class='tag-link-82' title='2 topics' style='font-size: 9.77464788732pt;'>Maya</a>
<a href='http://www.lighthouse3d.com/tag/models/' class='tag-link-17' title='13 topics' style='font-size: 16.3802816901pt;'>models</a>
<a href='http://www.lighthouse3d.com/tag/ogre/' class='tag-link-21' title='1 topic' style='font-size: 8pt;'>Ogre</a>
<a href='http://www.lighthouse3d.com/tag/opencl/' class='tag-link-31' title='7 topics' style='font-size: 13.9154929577pt;'>OpenCL</a>
<a href='http://www.lighthouse3d.com/tag/opengl/' class='tag-link-6' title='51 topics' style='font-size: 22pt;'>OpenGL</a>
<a href='http://www.lighthouse3d.com/tag/opengl-es/' class='tag-link-95' title='4 topics' style='font-size: 11.9436619718pt;'>OpenGL ES</a>
<a href='http://www.lighthouse3d.com/tag/optix/' class='tag-link-57' title='1 topic' style='font-size: 8pt;'>Optix</a>
<a href='http://www.lighthouse3d.com/tag/physics/' class='tag-link-65' title='5 topics' style='font-size: 12.7323943662pt;'>physics</a>
<a href='http://www.lighthouse3d.com/tag/pipeline/' class='tag-link-61' title='2 topics' style='font-size: 9.77464788732pt;'>pipeline</a>
<a href='http://www.lighthouse3d.com/tag/pixar/' class='tag-link-24' title='4 topics' style='font-size: 11.9436619718pt;'>Pixar</a>
<a href='http://www.lighthouse3d.com/tag/profiler/' class='tag-link-52' title='5 topics' style='font-size: 12.7323943662pt;'>profiler</a>
<a href='http://www.lighthouse3d.com/tag/programming-2/' class='tag-link-90' title='6 topics' style='font-size: 13.4225352113pt;'>programming</a>
<a href='http://www.lighthouse3d.com/tag/real-time/' class='tag-link-42' title='5 topics' style='font-size: 12.7323943662pt;'>real-time</a>
<a href='http://www.lighthouse3d.com/tag/shaders/' class='tag-link-44' title='16 topics' style='font-size: 17.1690140845pt;'>shaders</a>
<a href='http://www.lighthouse3d.com/tag/specs/' class='tag-link-107' title='2 topics' style='font-size: 9.77464788732pt;'>Specs</a>
<a href='http://www.lighthouse3d.com/tag/textures-2/' class='tag-link-15' title='13 topics' style='font-size: 16.3802816901pt;'>textures</a>
<a href='http://www.lighthouse3d.com/tag/tutorials-2/' class='tag-link-73' title='5 topics' style='font-size: 12.7323943662pt;'>tutorials</a>
<a href='http://www.lighthouse3d.com/tag/vrml/' class='tag-link-119' title='1 topic' style='font-size: 8pt;'>VRML</a>
<a href='http://www.lighthouse3d.com/tag/vsl/' class='tag-link-104' title='5 topics' style='font-size: 12.7323943662pt;'>VS*L</a>
<a href='http://www.lighthouse3d.com/tag/vsfl/' class='tag-link-89' title='2 topics' style='font-size: 9.77464788732pt;'>VSFL</a>
<a href='http://www.lighthouse3d.com/tag/vsml/' class='tag-link-87' title='1 topic' style='font-size: 8pt;'>VSML</a>
<a href='http://www.lighthouse3d.com/tag/vspl/' class='tag-link-96' title='3 topics' style='font-size: 10.9577464789pt;'>VSPL</a>
<a href='http://www.lighthouse3d.com/tag/vsshaderlib/' class='tag-link-105' title='2 topics' style='font-size: 9.77464788732pt;'>VSShaderLib</a>
<a href='http://www.lighthouse3d.com/tag/webgl/' class='tag-link-10' title='17 topics' style='font-size: 17.4647887324pt;'>WebGL</a></div>
</div></aside><!--widget end --><!--widget start --><aside id="categories-3" class="dbx-box suf-widget widget_categories"><div class="dbx-content"><h3 class="dbx-handle plain">Categories</h3>		<ul>
	<li class="cat-item cat-item-29"><a href="http://www.lighthouse3d.com/category/apps-demos/" >Apps &amp; Demos</a> (15)
</li>
	<li class="cat-item cat-item-34"><a href="http://www.lighthouse3d.com/category/art/" >Art</a> (12)
</li>
	<li class="cat-item cat-item-5"><a href="http://www.lighthouse3d.com/category/books/" >Books</a> (15)
</li>
	<li class="cat-item cat-item-38"><a href="http://www.lighthouse3d.com/category/cg-techniques/" >CG Techniques</a> (6)
</li>
	<li class="cat-item cat-item-32"><a href="http://www.lighthouse3d.com/category/docs/" >Docs</a> (7)
</li>
	<li class="cat-item cat-item-13"><a href="http://www.lighthouse3d.com/category/game-engine/" >Game Engine</a> (2)
</li>
	<li class="cat-item cat-item-4"><a href="http://www.lighthouse3d.com/category/games/" >Games</a> (6)
</li>
	<li class="cat-item cat-item-79"><a href="http://www.lighthouse3d.com/category/misc/" >Misc</a> (11)
</li>
	<li class="cat-item cat-item-16"><a href="http://www.lighthouse3d.com/category/models-textures/" >Models &amp; Textures</a> (19)
</li>
	<li class="cat-item cat-item-19"><a href="http://www.lighthouse3d.com/category/movies/" >Movies</a> (23)
</li>
	<li class="cat-item cat-item-85"><a href="http://www.lighthouse3d.com/category/physics-2/" >Physics</a> (2)
</li>
	<li class="cat-item cat-item-28"><a href="http://www.lighthouse3d.com/category/programming/" >Programming</a> (80)
</li>
	<li class="cat-item cat-item-14"><a href="http://www.lighthouse3d.com/category/textures/" >Textures</a> (7)
</li>
	<li class="cat-item cat-item-51"><a href="http://www.lighthouse3d.com/category/tools/" >Tools</a> (26)
</li>
	<li class="cat-item cat-item-25"><a href="http://www.lighthouse3d.com/category/tutorials/" >Tutorials</a> (63)
</li>
	<li class="cat-item cat-item-1"><a href="http://www.lighthouse3d.com/category/uncategorized/" >Uncategorized</a> (15)
</li>
		</ul>
</div></aside><!--widget end --></div><!--/sidebar -->
		<!-- #sidebar-b -->
		<div id="sidebar-b" class="dbx-group right boxed warea">

<!-- WordPress Popular Posts Plugin v3.3.1 [W] [weekly] [views] [regular] -->
<!--widget start --><aside id="wpp-3" class="dbx-box suf-widget popular-posts"><div class="dbx-content">
<h3 class="dbx-handle plain">Popular Posts</h3>
<ul class="wpp-list">
<li><a href="http://www.lighthouse3d.com/tutorials/" title="Tutorials" class="wpp-post-title" target="_self">Tutorials</a>  <span class="post-stats"><span class="wpp-views">1,574 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/glsl-tutorial/" title="GLSL Tutorial &#8211; Core" class="wpp-post-title" target="_self">GLSL Tutorial &#8211; Core</a>  <span class="post-stats"><span class="wpp-views">1,096 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/glut-tutorial/" title="GLUT Tutorial" class="wpp-post-title" target="_self">GLUT Tutorial</a>  <span class="post-stats"><span class="wpp-views">936 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/view-frustum-culling/" title="View Frustum Culling" class="wpp-post-title" target="_self">View Frustum Culling</a>  <span class="post-stats"><span class="wpp-views">652 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/glsl-12-tutorial/shader-examples/" title="Shader Examples" class="wpp-post-title" target="_self">Shader Examples</a>  <span class="post-stats"><span class="wpp-views">628 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/glsl-tutorial/vertex-shader/" title="GLSL Tutorial &#8211; Vertex Shader" class="wpp-post-title" target="_self">GLSL Tutorial &#8211; Vertex Shader</a>  <span class="post-stats"><span class="wpp-views">456 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/glut-tutorial/keyboard-example-moving-around-the-world/" title="Keyboard Example: Moving the Camera" class="wpp-post-title" target="_self">Keyboard Example: Moving the Camera</a>  <span class="post-stats"><span class="wpp-views">454 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/glsl-tutorial/fragment-shader/" title="GLSL Tutorial – Fragment Shader" class="wpp-post-title" target="_self">GLSL Tutorial – Fragment Shader</a>  <span class="post-stats"><span class="wpp-views">403 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/opengl_framebuffer_objects/" title="OpenGL Framebuffer Objects" class="wpp-post-title" target="_self">OpenGL Framebuffer Objects</a>  <span class="post-stats"><span class="wpp-views">401 views</span> | <span class="wpp-comments">0 comments</span></span> </li>
<li><a href="http://www.lighthouse3d.com/tutorials/glsl-12-tutorial/the-normal-matrix/" title="The Normal Matrix" class="wpp-post-title" target="_self">The Normal Matrix</a>  <span class="post-stats"><span class="wpp-views">399 views</span> | <span class="wpp-comments">0 comments</span></span> </li>

</ul>
</div></aside><!--widget end -->
<!-- End WordPress Popular Posts Plugin v3.3.1 -->
<!--widget start --><aside id="linkcat-7" class="dbx-box suf-widget widget_links"><div class="dbx-content"><h3 class="dbx-handle plain">Links</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://developer.amd.com">AMD Developer Central</a></li>
<li><a href="http://codeflow.org/">Codeflow</a></li>
<li><a href="http://flipcode.com/">Flipcode</a></li>
<li><a href="http://www.g-truc.net">G-Truc Creation</a></li>
<li><a href="http://www.gamedev.net/">GameDev.net</a></li>
<li><a href="http://www.geeks3d.com/">Geeks3D</a></li>
<li><a href="http://freespace.virgin.net/hugo.elias/">Hugo Elias&#039; Site</a></li>
<li><a href="http://www.humus.name/">Humus 3D</a></li>
<li><a href="http://www.iquilezles.org/">Iñigo Quílez Site</a></li>
<li><a href="http://www.khronos.org/">Khronos Group</a></li>
<li><a href="http://nehe.gamedev.net/">Nehe</a></li>
<li><a href="http://developer.nvidia.com/page/home.html">nVidia Developer</a></li>
<li><a href="http://www.opengl.org">OpenGL.org</a></li>
<li><a href="http://paulbourke.net/">Paul Bourke&#039;s Site</a></li>
<li><a href="http://www.realtimerendering.com/blog/">Real-Time Rendering</a></li>

	</ul>
</div></aside><!--widget end -->
		</div>
		<!-- /#sidebar-b -->
</div>
<div id='sidebar-shell-2' class='sidebar-shell sidebar-shell-right'>
<div class="dbx-group right boxed warea" id="sidebar-2">

  <!--widget start --><aside id="text-8" class="dbx-box suf-widget widget_text"><div class="dbx-content">			<div class="textwidget"><a href="/feed"><img src="http://www.lighthouse3d.com/wp-content/uploads/2011/03/feed-icon-28x28.png" onMouseOver=""/ width=28 border=5></a> </div>
		</div></aside><!--widget end --><!--widget start --><aside id="search-3" class="dbx-box suf-widget search"><div class="dbx-content"><h3 class="dbx-handle plain">Search</h3>
<form method="get" class="searchform " action="http://www.lighthouse3d.com/">
	<input type="text" name="s" class="searchfield"
			value="Search"
			onfocus="if (this.value == 'Search') {this.value = '';}"
			onblur="if (this.value == '') {this.value = 'Search';}"
			/>
	<input type="submit" class="searchsubmit" value="" name="searchsubmit" />
</form>
</div></aside><!--widget end --><!--widget start --><aside id="flexipages-2" class="dbx-box suf-widget widget_pages widget_flexipages flexipages_widget"><div class="dbx-content"><h3 class="dbx-handle plain">Learning</h3>
<ul>
	<li class="page_item page-item-14"><a href="http://www.lighthouse3d.com/tutorials/" title="Tutorials">Tutorials</a></li>
	<li class="page_item page-item-2041"><a href="http://www.lighthouse3d.com/very-simple-libs/" title="Very Simple * Libs">Very Simple * Libs</a></li>
	<li class="page_item page-item-950"><a href="http://www.lighthouse3d.com/cg-topics/" title="CG Stuff">CG Stuff</a></li>
</ul></div></aside><!--widget end -->
</div><!--/sidebar-2 -->
		<!-- #sidebar-2-b -->
		<div id="sidebar-2-b" class="dbx-group right boxed warea">
<!--widget start --><aside id="aml-adsense-widget-3" class="dbx-box suf-widget widget_aml_adsense"><div class="dbx-content"><h3 class="dbx-handle plain">Google Ads</h3><!-- Google AdSense -->
<script type="text/javascript"><!--
google_ad_client = "ca-pub-9129408611271156";
google_ad_slot = "0331738056";
google_ad_width = "160";
google_ad_height = "600";

//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<!-- /Google AdSense --></div></aside><!--widget end -->		</div>
		<!-- /#sidebar-2-b -->
</div>
		<!-- #wsidebar-bottom -->
		<div id="wsidebar-bottom" class="dbx-group right boxed warea">
<!--widget start --><aside id="text-6" class="dbx-box suf-widget widget_text"><div class="dbx-content"><h3 class="dbx-handle plain">Google Ads</h3>			<div class="textwidget"><script type="text/javascript"><!--
google_ad_client = "ca-pub-9129408611271156";
/* Rectangulo médio inferior */
google_ad_slot = "2672259253";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</div>
		</div></aside><!--widget end -->		</div>
		<!-- /#wsidebar-bottom -->
</div>	</div><!-- /container -->

<footer>
	<div id="cred">
		<table>
			<tr>
				<td class="cred-left">&#169; 2015 <a href='http://www.lighthouse3d.com'>Lighthouse3d.com</a></td>
				<td class="cred-center"></td>
				<td class="cred-right"><a href="http://aquoid.com/news/themes/suffusion/">Suffusion theme by Sayontan Sinha</a></td>
			</tr>
		</table>
	</div>
</footer>
<!-- 87 queries, 55MB in 0.834 seconds. -->
</div><!--/wrapper -->
<!-- location footer -->
<div id="cookie-law-info-bar"><span>This site uses cookies to personalise ads by Google in order to keep it free <a href="#" id="cookie_action_close_header"  class="medium cli-plugin-button cli-plugin-main-button" >Accept</a> <a href="http://www.google.com/intl/en/policies/privacy/partners/" id="CONSTANT_OPEN_URL" target="_blank"  class="cli-plugin-main-link"  >See this page on how Google uses the information about your usage of this site</a></span></div><div id="cookie-law-info-again"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div>		
		<script type="text/javascript">
			//<![CDATA[
			jQuery(document).ready(function() {
				cli_show_cookiebar({
					settings: '{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":true,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"showagain_tab":true,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000"}'
				});
			});
			//]]>
		</script>
		
		<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/si-captcha-for-wordpress/captcha/si_captcha.js?ver=1.0'></script>
<script type="text/javascript">
//<![CDATA[
var si_captcha_styles = "\
<!-- begin SI CAPTCHA Anti-Spam - comment form style -->\
<style type='text/css'>\
div#captchaImgDiv { display:block; }\
.captchaSizeDivSmall { width:175px; height:45px; padding-top:10px; }\
.captchaSizeDivLarge { width:250px; height:60px; padding-top:10px; }\
img#si_image_com,#si_image_reg,#si_image_log,#si_image_side_login { border-style:none; margin:0; padding-right:5px; float:left; }\
.captchaImgRefresh { border-style:none; margin:0; vertical-align:bottom; }\
div#captchaInputDiv { display:block; padding-top:15px; padding-bottom:5px; }\
label#captcha_code_label { margin:0; }\
input#captcha_code { width:65px; }\
</style>\
<!-- end SI CAPTCHA Anti-Spam - comment form style -->\
";
jQuery(document).ready(function($) {
$('head').append(si_captcha_styles);
});
//]]>
</script>
	<div style="display:none">
	</div>
<script data-cfasync="false" type="text/javascript">
var addthis_config = {"ui_atversion":300,"data_track_clickback":true,"ignore_server_config":true};
var addthis_share = {};
</script>
                <!-- AddThis Settings Begin -->
                <script data-cfasync="false" type="text/javascript">
                    var addthis_product = "wpp-5.1.1";
                    var wp_product_version = "wpp-5.1.1";
                    var wp_blog_version = "4.4.2";
                    var addthis_plugin_info = {"info_status":"enabled","cms_name":"WordPress","cms_version":"4.4.2","plugin_name":"AddThis Sharing Buttons","plugin_version":"5.1.1","anonymous_profile_id":"wp-d7abeebb1b66315e686e61199fcd77ae","select_prefs":{"addthis_per_post_enabled":true,"addthis_above_enabled":false,"addthis_below_enabled":true,"addthis_sidebar_enabled":false,"addthis_above_showon_home":true,"addthis_below_showon_home":true,"addthis_above_showon_pages":true,"addthis_below_showon_pages":true,"addthis_above_showon_categories":true,"addthis_below_showon_categories":true,"addthis_above_showon_archives":true,"addthis_below_showon_archives":true,"addthis_above_showon_posts":true,"addthis_above_showon_excerpts":true,"addthis_below_showon_posts":true,"addthis_below_showon_excerpts":true,"addthis_sidebar_showon_home":true,"addthis_sidebar_showon_posts":true,"addthis_sidebar_showon_pages":true,"addthis_sidebar_showon_archives":true,"addthis_sidebar_showon_categories":true,"sharing_enabled_on_post_via_metabox":true},"page_info":{"template":"posts","post_type":""}};
                    if (typeof(addthis_config) == "undefined") {
                        var addthis_config = {"ui_atversion":300,"data_track_clickback":true,"ignore_server_config":true};
                    }
                    if (typeof(addthis_share) == "undefined") {
                        var addthis_share = {};
                    }
                    if (typeof(addthis_layers) == "undefined") {
                        var addthis_layers = {};
                    }
                </script>
                <script
                    data-cfasync="false"
                    type="text/javascript"
                    src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4d783030125f44ed "
                    async="async"
                >
                </script>
                <script data-cfasync="false" type="text/javascript">
                    (function() {
                        var at_interval = setInterval(function () {
                            if(window.addthis) {
                                clearInterval(at_interval);
                                addthis.layers(addthis_layers);
                            }
                        },1000)
                    }());
                </script>
                <script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/akismet/_inc/form.js?ver=3.1.5'></script>
<link rel='stylesheet' id='addthis_output-css'  href='http://www.lighthouse3d.com/wp-content/plugins/addthis/css/output.css?ver=4.4.2' type='text/css' media='all' />
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/my-beautiful-tubes/js/btwu.js?ver=1.0.1'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-includes/js/comment-reply.min.js?ver=4.4.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var MTBrushParams = {"baseUrl":"http:\/\/www.lighthouse3d.com\/wp-content\/plugins\/syntax-highlighter-mt"};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/syntax-highlighter-mt/brushTypes.js?ver=2.2.5'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201607'></script>
<script type='text/javascript' src='http://s.gravatar.com/js/gprofiles.js?ver=2016Febaa'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/jetpack/modules/wpgroho.js?ver=4.4.2'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-includes/js/jquery/ui/effect.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-includes/js/jquery/ui/effect-blind.min.js?ver=1.11.4'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var stbUserOptions = {"mode":"css","cssOptions":{"roundedCorners":true,"mbottom":10,"imgHide":"http:\/\/www.lighthouse3d.com\/wp-content\/plugins\/wp-special-textboxes\/images\/minus.png","imgShow":"http:\/\/www.lighthouse3d.com\/wp-content\/plugins\/wp-special-textboxes\/images\/plus.png","strHide":"Hide","strShow":"Show"}};
/* ]]> */
</script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-content/plugins/wp-special-textboxes/js/wstb.min.js?ver=5.4.98'></script>
<script type='text/javascript' src='http://www.lighthouse3d.com/wp-includes/js/wp-embed.min.js?ver=4.4.2'></script>

		<!--[if IE]>
		<script type="text/javascript">
		if ( 0 === window.location.hash.indexOf( '#comment-' ) ) {
			// window.location.reload() doesn't respect the Hash in IE
			window.location.hash = window.location.hash;
		}
		</script>
		<![endif]-->
		<script type="text/javascript">
			var comm_par_el = document.getElementById( 'comment_parent' ),
			    comm_par = (comm_par_el && comm_par_el.value) ? comm_par_el.value : '',
			    frame = document.getElementById( 'jetpack_remote_comment' ),
			    tellFrameNewParent;

			tellFrameNewParent = function() {
				if ( comm_par ) {
					frame.src = "http://jetpack.wordpress.com/jetpack-comment/?blogid=21488603&postid=4964&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en-US&jetpack_version=3.7&sig=e25a88eba2a308dda479de37103af4a716c709c9#parent=http%3A%2F%2Fwww.lighthouse3d.com%2F2013%2F07%2Fwebgl-importing-a-json-formatted-3d-model%2F" + '&replytocom=' + parseInt( comm_par, 10 ).toString();
				} else {
					frame.src = "http://jetpack.wordpress.com/jetpack-comment/?blogid=21488603&postid=4964&comment_registration=0&require_name_email=1&stc_enabled=1&stb_enabled=1&show_avatars=1&avatar_default=mystery&greeting=Leave+a+Reply&greeting_reply=Leave+a+Reply+to+%25s&color_scheme=light&lang=en-US&jetpack_version=3.7&sig=e25a88eba2a308dda479de37103af4a716c709c9#parent=http%3A%2F%2Fwww.lighthouse3d.com%2F2013%2F07%2Fwebgl-importing-a-json-formatted-3d-model%2F";
				}
			};

	
			if ( 'undefined' !== typeof addComment ) {
				addComment._Jetpack_moveForm = addComment.moveForm;

				addComment.moveForm = function( commId, parentId, respondId, postId ) {
					var returnValue = addComment._Jetpack_moveForm( commId, parentId, respondId, postId ), cancelClick, cancel;

					if ( false === returnValue ) {
						cancel = document.getElementById( 'cancel-comment-reply-link' );
						cancelClick = cancel.onclick;
						cancel.onclick = function() {
							var cancelReturn = cancelClick.call( this );
							if ( false !== cancelReturn ) {
								return cancelReturn;
							}

							if ( !comm_par ) {
								return cancelReturn;
							}

							comm_par = 0;

							tellFrameNewParent();

							return cancelReturn;
						};
					}

					if ( comm_par == parentId ) {
						return returnValue;
					}

					comm_par = parentId;

					tellFrameNewParent();

					return returnValue;
				};
			}

	
			if ( window.postMessage ) {
				if ( document.addEventListener ) {
					window.addEventListener( 'message', function( event ) {
						if ( "http:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				} else if ( document.attachEvent ) {
					window.attachEvent( 'message', function( event ) {
						if ( "http:\/\/jetpack.wordpress.com" !== event.origin ) {
							return;
						}

						jQuery( frame ).height( event.data );
					} );
				}
			}
		</script>

	<script type='text/javascript' src='http://stats.wp.com/e-201607.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:3.7',blog:'21488603',post:'4964',tz:'0',srv:'www.lighthouse3d.com'} ]);
	_stq.push([ 'clickTrackerInit', '21488603', '4964' ]);
</script>
<!--wp_footer-->
</body>
</html>
